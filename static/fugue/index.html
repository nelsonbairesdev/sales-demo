<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fugue Patterns</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-50 overflow-hidden">
  <!-- Iconoir Icon Definitions -->
  <svg width="0" height="0" class="hidden">
    <defs>
      <symbol id="iconoir-bank" viewBox="0 0 24 24">
        <path d="M3 21h18M5 21V10.5M19 21V10.5M12 3l7 4.5v3l-7-4.5L5 10.5v-3L12 3z" stroke="currentColor"
          stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-credit-card" viewBox="0 0 24 24">
        <path d="M2 15V9a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z" stroke="currentColor"
          stroke-width="1.5" fill="none" />
        <path d="M2 10h20M6 15h4" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-shopping-cart" viewBox="0 0 24 24">
        <path d="M3 6h2.5l1.5 6h10l2-8H7M7 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="1.5"
          fill="none" />
        <circle cx="9" cy="20" r="1" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="17" cy="20" r="1" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-lock" viewBox="0 0 24 24">
        <path
          d="M16 12h1.4a.6.6 0 0 1 .6.6v6.8a.6.6 0 0 1-.6.6H6.6a.6.6 0 0 1-.6-.6v-6.8a.6.6 0 0 1 .6-.6H8m8 0V8c0-1.333-.8-4-4-4s-4 2.667-4 4v4m8 0H8"
          stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-dollar" viewBox="0 0 24 24">
        <path
          d="M12 2v20M8 8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.657-1.007 3-2.5 3.5L12 12l-1.5.5C9.007 13 8 14.343 8 16c0 2.21 1.79 4 4 4s4-1.79 4-4"
          stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-user" viewBox="0 0 24 24">
        <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="1.5" fill="none" />
        <path d="M4 21v-2a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-shield" viewBox="0 0 24 24">
        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-phone" viewBox="0 0 24 24">
        <path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" stroke="currentColor"
          stroke-width="1.5" fill="none" />
        <circle cx="12" cy="18" r="1" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-check" viewBox="0 0 24 24">
        <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-network" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="12" cy="5" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="12" cy="19" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="5" cy="12" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
        <circle cx="19" cy="12" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
        <path d="M12 7v3M12 14v3M7 12h3M14 12h3" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-send" viewBox="0 0 24 24">
        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-wallet" viewBox="0 0 24 24">
        <path d="M19 9V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h13a2 2 0 0 0 2-2v-2" stroke="currentColor"
          stroke-width="1.5" fill="none" />
        <path d="M22 13h-4a2 2 0 0 1-2-2v0a2 2 0 0 1 2-2h4v4z" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-plus" viewBox="0 0 24 24">
        <path d="M6 12h12M12 6v12" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-play" viewBox="0 0 24 24">
        <path d="M8 5v14l11-7z" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-stop" viewBox="0 0 24 24">
        <rect x="6" y="6" width="12" height="12" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-download" viewBox="0 0 24 24">
        <path d="M6 20h12M12 4v12m0 0l3.5-3.5M12 16l-3.5-3.5" stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <symbol id="iconoir-code" viewBox="0 0 24 24">
        <path d="M13.5 6L10 18.5M6.5 8.5L3 12l3.5 3.5M17.5 8.5L21 12l-3.5 3.5" stroke="currentColor" stroke-width="1.5"
          fill="none" />
      </symbol>
      <symbol id="iconoir-trash" viewBox="0 0 24 24">
        <path
          d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
          stroke="currentColor" stroke-width="1.5" fill="none" />
      </symbol>
      <!-- Placeholder for custom icons will be added dynamically -->
    </defs>
  </svg>

  <!-- Fixed Navbar -->
  <nav class="main-navbar">
    <div class="navbar-left">
      <div class="navbar-brand">
        <svg class="brand-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
          </path>
        </svg>
        <span class="navbar-title">Fugue Patterns</span>
      </div>
    </div>

    <div class="navbar-right">
      <button id="globalSettingsBtn" class="navbar-btn" title="Global Settings">
        <svg class="navbar-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">
          </path>
        </svg>
        <span class="navbar-label">Settings</span>
      </button>
      <button id="exportShareBtn" class="navbar-btn" title="Export & Share">
        <svg class="navbar-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z">
          </path>
        </svg>
        <span class="navbar-label">Share</span>
      </button>
      <button id="sidebarToggle" class="navbar-btn md:hidden" title="Toggle sidebar">
        <svg class="navbar-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </nav>

  <div class="relative h-screen pt-16">
    <!-- Left Sidebar - Fixed -->
    <div id="leftSidebar"
      class="controls-sidebar fixed left-0 top-16 w-80 h-full bg-white border-r border-gray-300 flex flex-col z-10">

      <div class="sidebar-content flex-1 overflow-y-auto p-4">
        <!-- Node Management -->
        <!-- Action Buttons -->
        <div class="action-buttons">
          <button id="addNodeBtn" class="btn-primary" title="Add a new node to the grid">
            <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <use href="#iconoir-plus"></use>
            </svg>
            Add Node
          </button>
          <button id="clearAllBtn" class="btn-danger" title="Remove all nodes">
            <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <use href="#iconoir-trash"></use>
            </svg>
            Clear All
          </button>
        </div>

        <!-- Node List -->
        <div class="node-list-container">
          <div class="setting-header">
            <h3 class="setting-title">Active Nodes</h3>
            <div class="tooltip-wrapper" data-tooltip="Configure individual nodes: colors, icons, positions, and order">
              <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
          </div>
          <div id="nodeList" class="node-list">
            <!-- Node configurations will be populated here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Main Canvas - Adjusted for Fixed Sidebar -->
    <div class="main-canvas hex-grid" style="margin-left: 320px; height: calc(100vh - 64px);">
      <div id="hexCanvas" class="w-full h-full relative overflow-hidden">
        <svg id="hexSvg" class="w-full h-full" viewBox="0 0 800 600">
          <!-- Hexagons will be rendered here -->
        </svg>
        <div id="spotlight" class="spotlight" style="display: none;"></div>

        <!-- Context menu -->
        <div id="contextMenu" class="context-menu hidden">
          <div class="context-menu-item" data-action="duplicate">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
              </path>
            </svg>
            Duplicate
          </div>
          <div class="context-menu-item" data-action="delete">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
              </path>
            </svg>
            Delete
          </div>
        </div>
      </div>
    </div>

    <!-- Media Player Style Controls -->
    <div id="mediaControls" class="media-controls">
      <div class="media-controls-container">
        <button id="playFlowBtn" class="media-play-btn" title="Play animation">
          <svg class="media-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <use href="#iconoir-play"></use>
          </svg>
        </button>
        <button id="stopFlowBtn" class="media-stop-btn hidden" title="Stop animation">
          <svg class="media-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <use href="#iconoir-stop"></use>
          </svg>
        </button>
        <div class="speed-control">
          <select id="animationSpeedSelect" class="speed-dropdown">
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1.0" selected>1.0x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="2.0">2.0x</option>
            <option value="3.0">3.0x</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Global Settings Drawer -->
    <div id="globalSettingsDrawer" class="drawer drawer-right hidden">
      <div class="drawer-overlay"></div>
      <div class="drawer-content">
        <div class="drawer-header">
          <h2 class="drawer-title">Global Settings</h2>
          <button class="drawer-close" onclick="closeDrawer('globalSettingsDrawer')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="drawer-body">
          <!-- Background Configuration -->
          <div class="setting-section">
            <div class="setting-header">
              <h3 class="setting-title">Background</h3>
              <div class="tooltip-wrapper" data-tooltip="Choose the canvas background color for your presentation">
                <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
            <div id="backgroundColorOptions" class="color-grid">
              <!-- Background color options will be populated here -->
            </div>
          </div>

          <!-- Color Palette -->
          <div class="setting-section">
            <div class="setting-header">
              <h3 class="setting-title">Color Palette</h3>
              <div class="tooltip-wrapper" data-tooltip="Select themed color palettes designed for different use cases">
                <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
            <div class="space-y-3">
              <select id="paletteSelector" class="form-select">
                <!-- Palette options will be populated here -->
              </select>
              <div id="colorPaletteGrid" class="grid grid-cols-5 gap-2">
                <!-- Color palette will be populated here -->
              </div>
              <p id="paletteDescription" class="setting-description">
                <!-- Palette description will be shown here -->
              </p>
            </div>
          </div>

          <!-- Icon Manager -->
          <div class="setting-section">
            <div class="setting-header">
              <h3 class="setting-title">Custom Icons</h3>
              <div class="tooltip-wrapper"
                data-tooltip="Upload custom SVG icons like company logos (American Express, Visa, etc.)">
                <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
            <div class="space-y-3">
              <div class="upload-area">
                <input type="file" id="iconUpload" accept=".svg" class="hidden"
                  onchange="configurator.handleIconUpload(event)">
                <button onclick="document.getElementById('iconUpload').click()" class="btn-upload">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12">
                    </path>
                  </svg>
                  Choose SVG File
                </button>
              </div>
              <div id="customIconsList" class="custom-icons-list">
                <!-- Custom icons will be listed here -->
              </div>
            </div>
          </div>

          <!-- Visual Effects -->
          <div class="setting-section">
            <div class="setting-header">
              <h3 class="setting-title">Visual Effects</h3>
              <div class="tooltip-wrapper" data-tooltip="Enhanced visual effects during flow animation">
                <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
            <div>
              <label class="flex items-center space-x-2">
                <input type="checkbox" id="glowEffect" checked
                  class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500">
                <span class="text-xs text-gray-700">Enhanced glow effects</span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Export & Share Drawer -->
    <div id="exportShareDrawer" class="drawer drawer-right hidden">
      <div class="drawer-overlay"></div>
      <div class="drawer-content">
        <div class="drawer-header">
          <h2 class="drawer-title">Export & Share</h2>
          <button class="drawer-close" onclick="closeDrawer('exportShareDrawer')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="drawer-body">
          <div class="export-buttons">
            <button id="exportPngBtn" class="btn-secondary" title="Export as PNG image">
              <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <use href="#iconoir-download"></use>
              </svg>
              Export PNG
            </button>
            <button id="exportCodeBtn" class="btn-secondary" title="Export configuration as JSON">
              <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <use href="#iconoir-code"></use>
              </svg>
              Export Code
            </button>
            <div class="upload-area">
              <input type="file" id="codeUpload" accept=".json" class="hidden">
              <button id="importCodeBtn" class="btn-upload w-full"
                title="Import comprehensive JSON configuration with nodes">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12">
                  </path>
                </svg>
                Import Code
              </button>
            </div>
          </div>

          <!-- Configuration Management -->
          <div class="setting-section">
            <div class="setting-header">
              <h3 class="setting-title">Configuration</h3>
              <div class="tooltip-wrapper" data-tooltip="Save and load configuration settings (excludes nodes)">
                <svg class="info-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
            <div class="space-y-2">
              <button id="downloadConfigBtn" class="btn-secondary w-full" title="Download configuration as JSON">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                  </path>
                </svg>
                Download Config
              </button>
              <div class="upload-area">
                <input type="file" id="configUpload" accept=".json" class="hidden">
                <button id="uploadConfigBtn" class="btn-upload w-full">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12">
                    </path>
                  </svg>
                  Upload Config
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="honeycomb-configurator.js"></script>
  <script src="flow-animation-manager.js"></script>
  <script src="configuration-manager.js"></script>
  <script src="tooltips.js"></script>
  <script src="index.js"></script>

</body>

</html>